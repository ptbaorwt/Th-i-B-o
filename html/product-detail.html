<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi Tiết Sản Phẩm - Limerence</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #28a745;
            --primary-dark: #218838;
            --primary-light: #2ea44f;
            --secondary-color: #6c757d;
            --success-color: #28a745;
            --danger-color: #ff4757;
            --dark-color: #333;
            --light-color: #f8f9fa;
            --transition: all 0.3s ease;
            --shadow-sm: 0 2px 5px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.15);
            --shadow-lg: 0 8px 25px rgba(0,0,0,0.1);
            --border-radius: 10px;
            --border-radius-sm: 5px;
            --border-radius-lg: 15px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Montserrat', 'Poppins', sans-serif;
            background: white;
            color: var(--dark-color);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-light));
            color: white;
            padding: 20px 5%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow-md);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        header .brand {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        header img.logo {
            height: 55px;
            transition: var(--transition);
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }

        header img.logo:hover {
            transform: scale(1.1);
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
            font-weight: 600;
        }

        .header-right a {
            color: white;
            text-decoration: none;
            padding: 8px 20px;
            border-radius: 30px;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .header-right a:not(.cart-icon)::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(255,255,255,0.2);
            transition: var(--transition);
            z-index: 0;
        }

        .header-right a:hover::before {
            left: 0;
        }

        .header-right a:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        }

        .header-right a i {
            font-size: 1rem;
            z-index: 1;
        }

        .header-right a span {
            z-index: 1;
        }

        /* Search Bar */
        .search-bar {
            flex: 1;
            max-width: 450px;
            position: relative;
            margin: 0 30px;
        }

        .search-bar input {
            width: 100%;
            padding: 14px 45px 14px 20px;
            border-radius: 30px;
            border: none;
            font-size: 15px;
            background: rgba(255,255,255,0.95);
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
        }

        .search-bar input:focus {
            outline: none;
            box-shadow: var(--shadow-md);
            transform: scale(1.02);
        }

        .search-bar button {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            height: 40px;
            width: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .search-bar button:hover {
            background: rgba(0,0,0,0.05);
        }

        .search-bar i {
            color: var(--primary-color);
            font-size: 18px;
        }

        .cart-icon {
            position: relative;
            padding: 10px !important;
            border-radius: 50% !important;
            background: rgba(255,255,255,0.1);
            transition: var(--transition);
            display: flex !important;
            align-items: center;
            justify-content: center;
            width: 45px;
            height: 45px;
        }

        .cart-icon i {
            font-size: 18px !important;
            color: white;
        }

        .cart-count {
            position: absolute;
            top: 7px;
            right: 6px;
            background: var(--danger-color);
            color: white;
            border-radius: 50%;
            padding: 1px;
            font-size: 10px;
            font-weight: bold;
            min-width: 12px;
            height: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .cart-icon:hover {
            transform: scale(1.15) !important;
            background: rgba(255,255,255,0.2);
        }

        /* Navigation */
        nav {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-light));
            padding: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow-sm);
            border-top: 1px solid rgba(255,255,255,0.1);
            position: sticky;
            top: 95px;
            z-index: 999;
        }

        nav .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }

        nav ul {
            list-style: none;
            display: flex;
            margin: 0;
            padding: 0;
        }

        nav ul.left-menu {
            gap: 5px;
        }

        nav ul.right-menu {
            font-weight: bold;
            color: white;
            align-items: center;
        }

        nav ul.right-menu i {
            margin-right: 10px;
            color: rgba(255,255,255,0.8);
        }

        nav ul li {
            margin: 0;
            position: relative;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            padding: 15px 20px;
            font-weight: 600;
            transition: var(--transition);
            position: relative;
            display: block;
        }

        nav ul li a::after {
            content: '';
            position: absolute;
            bottom: 10px;
            left: 50%;
            width: 0;
            height: 2px;
            background: white;
            transition: var(--transition);
            transform: translateX(-50%);
        }

        nav ul li a:hover::after {
            width: 60%;
        }

        nav ul li a:hover {
            background: rgba(255,255,255,0.1);
        }

        .dropdown {
            position: relative;
        }

        .dropdown > a::before {
            content: '\f107';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            margin-left: 5px;
            transition: var(--transition);
        }

        .dropdown:hover > a::before {
            transform: rotate(180deg);
        }

        .dropdown-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-light));
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            z-index: 1000;
            min-width: 230px;
            padding: 10px;
            opacity: 0;
            transform: translateY(10px);
            transition: var(--transition);
        }

        .dropdown:hover .dropdown-menu {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .dropdown-menu li {
            margin: 5px 0;
            width: 100%;
        }

        .dropdown-menu a {
            display: block;
            padding: 10px 15px;
            font-weight: 500;
            color: white;
            border-radius: var(--border-radius-sm);
        }

        .dropdown-menu a:hover {
            background: rgba(255,255,255,0.15);
            transform: translateX(5px);
        }

        /* Breadcrumb */
        .breadcrumb {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
            font-size: 14px;
        }

        .breadcrumb a {
            color: var(--secondary-color);
            text-decoration: none;
            transition: var(--transition);
        }

        .breadcrumb a:hover {
            color: var(--primary-color);
        }

        .breadcrumb span {
            color: #999;
            margin: 0 5px;
        }

        /* Product Detail Section */
        .product-detail-section {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
        }

        .product-image-container {
            flex: 1;
            min-width: 300px;
            position: relative;
        }

        .product-image-container .main-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            transition: var(--transition);
        }

        .product-image-container:hover .main-image {
            transform: scale(1.02);
        }

        .product-image-thumbnails {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .product-image-thumbnails img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            border: 2px solid transparent;
            transition: var(--transition);
        }

        .product-image-thumbnails img:hover,
        .product-image-thumbnails img.active {
            border-color: var(--primary-color);
        }

        .product-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: linear-gradient(135deg, var(--danger-color), #ef3b4a);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 600;
            z-index: 10;
        }

        .product-details {
            flex: 1;
            min-width: 300px;
            padding: 20px;
        }

        .product-details h1 {
            font-size: 28px;
            font-weight: 700;
            color: var(--primary-dark);
            margin-bottom: 10px;
        }

        .product-code {
            font-size: 14px;
            color: #666;
            margin-bottom: 15px;
        }

        .product-price {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .current-price {
            font-size: 24px;
            font-weight: 700;
            color: var(--danger-color);
        }

        .old-price {
            font-size: 18px;
            color: var(--secondary-color);
            text-decoration: line-through;
        }

        .product-policies {
            margin-bottom: 20px;
        }

        .policy-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            color: #666;
        }

        .policy-item i {
            color: var(--primary-color);
            font-size: 16px;
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .quantity-selector label {
            font-weight: 500;
            color: #666;
        }

        .quantity-selector .quantity-controls {
            display: flex;
            align-items: center;
            border: 1px solid #ddd;
            border-radius: var(--border-radius-sm);
        }

        .quantity-selector button {
            background: none;
            border: none;
            padding: 8px 15px;
            cursor: pointer;
            transition: var(--transition);
        }

        .quantity-selector button:hover {
            background: var(--light-color);
        }

        .quantity-selector input {
            width: 50px;
            text-align: center;
            border: none;
            border-left: 1px solid #ddd;
            border-right: 1px solid #ddd;
            padding: 8px 0;
            font-size: 14px;
        }

        .quantity-selector input:focus {
            outline: none;
        }

        .product-actions {
            display: flex;
            gap: 15px;
        }

        .btn-buy-now {
            background: #ffca28;
            color: #333;
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            flex: 1;
            text-align: center;
        }

        .btn-buy-now:hover {
            background: #ffb300;
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }

        .btn-add-to-cart {
            background: linear-gradient(135deg, #ff6f61, #ff8a80);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            flex: 1;
            text-align: center;
        }

        .btn-add-to-cart:hover {
            background: linear-gradient(135deg, #ff5a4a, #ff7066);
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }

        .product-description {
            margin-top: 20px;
            color: #666;
            line-height: 1.8;
        }

        /* Toast Notifications */
        #toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 2000;
        }

        .toast {
            background: var(--dark-color);
            color: white;
            padding: 15px 20px;
            border-radius: var(--border-radius);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-width: 300px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            opacity: 0;
            transform: translateX(20px);
            transition: var(--transition);
        }

        .toast.show {
            opacity: 1;
            transform: translateX(0);
        }

        .toast.success {
            background: linear-gradient(135deg, #28a745, #2ea44f);
            border-left: 5px solid #1e7e34;
        }

        .toast.error {
            background: linear-gradient(135deg, #dc3545, #c82333);
            border-left: 5px solid #bd2130;
        }

        .toast-content {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .toast-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        .toast-close {
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
            opacity: 0.7;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .toast-close:hover {
            opacity: 1;
            transform: scale(1.1);
        }

        /* Footer */
        footer {
            background: linear-gradient(180deg, #333, #222);
            color: white;
            padding: 40px 30px;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: space-between;
            margin-top: 50px;
            border-top: 4px solid var(--primary-color);
        }

        .footer-section {
            flex: 1;
            min-width: 200px;
            margin: 10px;
        }

        .footer-section h3 {
            font-size: 20px;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-section h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-color), var(--primary-dark));
        }

        .footer-section p, 
        .footer-section ul {
            margin: 0;
            padding: 0;
            color: #ddd;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin: 12px 0;
        }

        .footer-section ul li a {
            color: #ddd;
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .footer-section ul li a i {
            font-size: 14px;
            color: var(--primary-color);
        }

        .footer-section ul li a:hover {
            color: var(--primary-color);
            padding-left: 5px;
        }

        .social-icons {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .social-item {
            display: flex;
            align-items: center;
            gap: 10px;
            transition: var(--transition);
        }

        .social-item:hover {
            transform: translateX(5px);
        }

        .social-item img {
            width: 24px;
            height: 24px;
            filter: drop-shadow(0 2px 3px rgba(0,0,0,0.3));
        }

        .social-item a {
            color: #ddd;
            text-decoration: none;
            font-size: 14px;
        }

        .social-item a:hover {
            color: var(--primary-color);
        }

        .footer-bottom {
            width: 100%;
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #555;
            color: #aaa;
            font-size: 14px;
        }

        /* Loading Animation */
        .btn-loading {
            position: relative;
            pointer-events: none;
            color: transparent !important;
        }

        .btn-loading::after {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 2px solid #fff;
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        /* Animations */
        @keyframes spin {
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                gap: 15px;
                padding: 15px;
            }

            .search-bar {
                max-width: 100%;
                margin: 15px 0;
            }

            nav .container {
                flex-direction: column;
            }

            nav ul.left-menu {
                flex-wrap: wrap;
                justify-content: center;
            }

            nav ul li a {
                padding: 10px 15px;
            }

            .product-detail-section {
                flex-direction: column;
            }

            .product-image-container .main-image {
                height: 300px;
            }

            .product-actions {
                flex-direction: column;
            }

            nav {
                top: 130px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="brand">
            <img src="../img/logo.png" alt="Limerence" class="logo">
        </div>
        <div class="search-bar">
            <input type="text" placeholder="Tìm kiếm sản phẩm...">
            <button type="button" id="search-button">
                <i class="fas fa-search"></i>
            </button>
        </div>
        <div class="header-right">
            <a href="login.html">
                <i class="fas fa-user"></i>
                <span>Đăng nhập</span>
            </a>
            <a href="register.html">
                <i class="fas fa-user-plus"></i>
                <span>Đăng ký</span>
            </a>
            <a href="cart.html" class="cart-icon">
                <i class="fas fa-shopping-cart"></i>
                <span class="cart-count" id="cart-count">0</span>
            </a>
        </div>
    </header>
    <nav>
        <div class="container">
            <ul class="left-menu">
                <li><a href="index.html"><i class="fas fa-home"></i> Trang chủ</a></li>
                <li><a href="about.html"><i class="fas fa-info-circle"></i> Về chúng tôi</a></li>
                <li class="dropdown">
                    <a href="products.html"><i class="fas fa-store"></i> Tất cả sản phẩm</a>
                    <ul class="dropdown-menu">
                        <li><a href="products.html?category=do-dung-van-phong"><i class="fas fa-briefcase"></i> Đồ văn phòng</a></li>
                        <li><a href="products.html?category=dung-cu-hoc-sinh"><i class="fas fa-graduation-cap"></i> Dụng cụ học sinh</a></li>
                        <li><a href="products.html?category=dung-cu-trang-tri"><i class="fas fa-paint-brush"></i> Dụng cụ trang trí</a></li>
                        <li><a href="products.html?category=do-dung-gia-dinh"><i class="fas fa-home"></i> Đồ dùng gia đình</a></li>
                    </ul>
                </li>
                <li><a href="news.html"><i class="fas fa-newspaper"></i> Tin Tức</a></li>
                <li><a href="contact.html"><i class="fas fa-envelope"></i> Liên hệ</a></li>
            </ul>
            <ul class="right-menu">
                <li><i class="fas fa-phone-alt"></i> Hotline: 0902.635.815</li>
            </ul>
        </div>
    </nav>

    <!-- Breadcrumb -->
    <div class="breadcrumb" id="breadcrumb">
        <a href="index.html">Trang chủ</a>
        <span>></span>
        <a id="category-link" href="products.html"></a>
        <span>></span>
        <span id="product-breadcrumb"></span>
    </div>

    <!-- Product Detail Section -->
    <section class="product-detail-section">
        <div class="product-image-container">
            <span class="product-badge" id="product-badge"></span>
            <img class="main-image" id="product-image" src="" alt="Product Image">
            <div class="product-image-thumbnails">
                <img src="" alt="Thumbnail" class="thumbnail active">
            </div>
        </div>
        <div class="product-details">
            <h1 id="product-title"></h1>
            <div class="product-code" id="product-code"></div>
            <div class="product-price">
                <span class="current-price" id="current-price"></span>
                <span class="old-price" id="old-price"></span>
            </div>
            <div class="product-policies">
                <div class="policy-item">
                    <i class="fas fa-truck"></i>
                    <span>Miễn phí vận chuyển nội thành cho đơn hàng từ 200.000đ</span>
                </div>
                <div class="policy-item">
                    <i class="fas fa-undo"></i>
                    <span>Đổi trả sản phẩm trong vòng 3 ngày kể từ ngày mua hàng</span>
                </div>
            </div>
            <div class="quantity-selector">
                <label>Số lượng:</label>
                <div class="quantity-controls">
                    <button class="minus">-</button>
                    <input type="number" value="1" min="1" id="quantity-input">
                    <button class="plus">+</button>
                </div>
            </div>
            <div class="product-actions">
                <button class="btn-buy-now" id="btn-buy-now">Mua ngay</button>
                <button class="btn-add-to-cart" id="btn-add-to-cart">Thêm vào giỏ hàng</button>
            </div>
            <div class="product-description" id="product-description"></div>
        </div>
    </section>

    <!-- Toast Notification Container -->
    <div id="toast-container"></div>

    <!-- Footer -->
    <footer>
        <div class="footer-section">
            <h3>Liên hệ</h3>
            <p>Văn phòng phẩm Limerence</p>
            <p>108 Quách Điêu, xã VLA, H. Bình Chánh, TP.HCM</p>
            <p>Thứ 2 đến Thứ 7 (7:00 - 18:00)</p>
            <p>Hotline: 0902635815</p>
        </div>
        <div class="footer-section">
            <h3>Truy cập</h3>
            <ul>
                <li><a href="index.html"><i class="fas fa-chevron-right"></i> Trang chủ</a></li>
                <li><a href="products.html"><i class="fas fa-chevron-right"></i> Sản phẩm</a></li>
                <li><a href="news.html"><i class="fas fa-chevron-right"></i> Tin tức</a></li>
                <li><a href="contact.html"><i class="fas fa-chevron-right"></i> Liên hệ</a></li>
            </ul>
        </div>
        <div class="footer-section">
            <h3>Hỗ trợ khách hàng</h3>
            <ul>
                <li><a href="shipping.html"><i class="fas fa-chevron-right"></i> Chính sách vận chuyển</a></li>
                <li><a href="return.html"><i class="fas fa-chevron-right"></i> Chính sách đổi trả</a></li>
                <li><a href="payment.html"><i class="fas fa-chevron-right"></i> Phương thức thanh toán</a></li>
                <li><a href="loyalty.html"><i class="fas fa-chevron-right"></i> Chương trình khách hàng thân thiết</a></li>
                <li><a href="faq.html"><i class="fas fa-chevron-right"></i> Câu hỏi thường gặp</a></li>
            </ul>
        </div>
        <div class="footer-section">
            <h3>Theo dõi chúng tôi</h3>
            <div class="social-icons">
                <div class="social-item">
                    <a href="https://instagram.com/limerence"><img src="../img/instagram.png" alt="Instagram"></a>
                    <a href="https://instagram.com/limerence">Instagram</a>
                </div>
                <div class="social-item">
                    <a href="https://twitter.com/limerence"><img src="../img/twitter.png" alt="X"></a>
                    <a href="https://twitter.com/limerence">X (Twitter)</a>
                </div>
                <div class="social-item">
                    <a href="https://facebook.com/limerence"><img src="../img/facebook.png" alt="Fanpage"></a>
                    <a href="https://facebook.com/limerence">Fanpage</a>
                </div>
                <div class="social-item">
                    <a href="https://tiktok.com/@limerence"><img src="../img/tiktok.png" alt="Tiktok"></a>
                    <a href="https://tiktok.com/@limerence">Tiktok</a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© Bản quyền thuộc về Văn phòng phẩm Limerence | Cung cấp bởi Sapo</p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        // Product data (mirrors products in products.html)
        const products = [
            {
                id: '1',
                title: 'Sổ tay da cao cấp Limerence',
                category: 'do-dung-van-phong',
                badge: 'Bán chạy',
                code: 'SP001',
                image: '../img/notebook',
                currentPrice: '40.000đ',
                oldPrice: '50.000đ',
                description: 'Sổ tay cao cấp Limerence được làm từ chất liệu mềm mại, thiết kế tinh tế với các đường may chắc chắn. Sổ có 200 trang giấy chất lượng cao, không lem mực, phù hợp cho việc ghi chú, lập kế hoạch hoặc làm nhật ký cá nhân.'
            },
            {
                id: '2',
                title: 'Bút bi gel Limerence 0.5mm - Bộ 10 màu',
                category: 'dung-cu-hoc-sinh',
                badge: 'Mới',
                code: 'SP002',
                image: '../img/pen',
                currentPrice: '85.000đ',
                oldPrice: '100.000đ',
                description: 'Bộ 10 bút bi gel Limerence với đầu bút 0.5mm, mực viết mượt mà, màu sắc rực rỡ. Sản phẩm lý tưởng cho học sinh, sinh viên và những ai yêu thích sáng tạo với màu sắc trong ghi chú và bullet journal.'
            },
            {
                id: '3',
                title: 'Hộp đựng bút đa năng kiêm giá đỡ điện thoại',
                category: 'do-dung-van-phong',
                badge: '',
                code: 'SP003',
                image: '../img/product-organizer.jpg',
                currentPrice: '75.000đ',
                oldPrice: '90.000đ',
                description: 'Hộp đựng bút đa năng được thiết kế hiện đại, có ngăn chứa rộng rãi và tích hợp giá đỡ điện thoại tiện lợi. Sản phẩm giúp bàn làm việc của bạn gọn gàng hơn, phù hợp cho văn phòng và học tập.'
            },
            {
                id: '4',
                title: 'Bìa kẹp hồ sơ A4 cao cấp - Bộ 5 cái',
                category: 'do-dung-van-phong',
                badge: 'Giảm giá',
                code: 'SP004',
                image: '../img/product-folder.jpg',
                currentPrice: '60.000đ',
                oldPrice: '95.000đ',
                description: 'Bộ 5 bìa kẹp hồ sơ A4 cao cấp, làm từ nhựa PP bền bỉ, chống thấm nước. Sản phẩm giúp lưu trữ tài liệu an toàn và chuyên nghiệp, phù hợp cho văn phòng và học tập.'
            },
            {
                id: '5',
                title: 'Sổ kế hoạch năm 2025 - Bìa cứng',
                category: 'dung-cu-hoc-sinh',
                badge: 'Mới',
                code: 'SP005',
                image: '../img/product-planner.jpg',
                currentPrice: '150.000đ',
                oldPrice: '180.000đ',
                description: 'Sổ kế hoạch năm 2025 với bìa cứng chắc chắn, thiết kế trang nhã. Sổ có bố cục khoa học, giúp bạn lập kế hoạch công việc và học tập hiệu quả suốt cả năm.'
            },
            {
                id: '6',
                title: 'Máy tính Casio FX-580VN X - Chính hãng',
                category: 'do-dung-van-phong',
                badge: 'Mới',
                code: 'SP006',
                image: '../img/product-calculator.jpg',
                currentPrice: '650.000đ',
                oldPrice: '720.000đ',
                description: 'Máy tính Casio FX-580VN X chính hãng, hỗ trợ nhiều tính năng tính toán nâng cao. Sản phẩm lý tưởng cho học sinh, sinh viên và dân văn phòng cần xử lý số liệu phức tạp.'
            },
            {
                id: '7',
                title: 'Bộ sticker trang trí bullet journal - 10 tấm',
                category: 'dung-cu-trang-tri',
                badge: 'Mới',
                code: 'SP007',
                image: '../img/product-stickers.jpg',
                currentPrice: '45.000đ',
                oldPrice: '60.000đ',
                description: 'Bộ 10 tấm sticker trang trí bullet journal với thiết kế dễ thương, đa dạng chủ đề. Sản phẩm giúp bạn trang trí sổ tay, nhật ký thêm sinh động và cá nhân hóa.'
            },
            {
                id: '8',
                title: 'Bút highlight pastel - Bộ 6 màu',
                category: 'dung-cu-hoc-sinh',
                badge: 'Mới',
                code: 'SP008',
                image: '../img/product-markers.jpg',
                currentPrice: '75.000đ',
                oldPrice: '90.000đ',
                description: 'Bộ 6 bút highlight màu pastel, mực tươi sáng, không lem. Sản phẩm hoàn hảo để đánh dấu tài liệu, ghi chú quan trọng hoặc làm nổi bật các ý chính trong học tập.'
            }
        ];

        // Category mapping for breadcrumb
        const categoryNames = {
            'do-dung-van-phong': 'Đồ văn phòng',
            'dung-cu-hoc-sinh': 'Dụng cụ học sinh',
            'dung-cu-trang-tri': 'Dụng cụ trang trí',
            'do-dung-gia-dinh': 'Đồ dùng gia đình'
        };

        // Toast Notification Function
        function showToast(message, type = 'success') {
            const toastId = 'toast-' + Date.now();
            const toast = `
                <div class="toast ${type}" id="${toastId}">
                    <div class="toast-content">
                        <div class="toast-icon">
                            <i class="fas ${type === 'success' ? 'fa-check' : 'fa-times'}"></i>
                        </div>
                        <span>${message}</span>
                    </div>
                    <button class="toast-close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `;
            
            $('#toast-container').append(toast);
            
            setTimeout(() => {
                $(`#${toastId}`).addClass('show');
            }, 100);
            
            setTimeout(() => {
                $(`#${toastId}`).removeClass('show');
                setTimeout(() => {
                    $(`#${toastId}`).remove();
                }, 300);
            }, 5000);
            
            $(`#${toastId} .toast-close`).click(function() {
                $(`#${toastId}`).removeClass('show');
                setTimeout(() => {
                    $(`#${toastId}`).remove();
                }, 300);
            });
        }

        // Update cart count from localStorage
        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const totalItems = cart.reduce((sum, item) => sum + (item.quantity || 1), 0);
            $('#cart-count').text(totalItems);
        }

        $(document).ready(function() {
            updateCartCount();

            // Search functionality
            $('#search-button').click(function() {
                const searchQuery = $('.search-bar input').val().trim();
                if (searchQuery) {
                    window.location.href = `products.html?search=${encodeURIComponent(searchQuery)}`;
                } else {
                    showToast('Vui lòng nhập từ khóa tìm kiếm', 'error');
                }
            });

            $('.search-bar input').keypress(function(e) {
                if (e.which === 13) {
                    $('#search-button').click();
                }
            });

            // Get product ID from URL
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('productId');

            // Find the product
            const product = products.find(p => p.id === productId);

            if (product) {
                // Populate product details
                $('#product-title').text(product.title);
                $('#product-code').text(`Mã SP: ${product.code}`);
                $('#current-price').text(product.currentPrice);
                $('#old-price').text(product.oldPrice);
                $('#product-description').text(product.description);
                $('#product-image').attr('src', product.image);
                $('.thumbnail').attr('src', product.image); // Single thumbnail for now

                if (product.badge) {
                    $('#product-badge').text(product.badge).show();
                } else {
                    $('#product-badge').hide();
                }

                // Populate breadcrumb
                const categoryName = categoryNames[product.category] || 'Sản phẩm';
                $('#category-link').text(categoryName).attr('href', `products.html?category=${product.category}`);
                $('#product-breadcrumb').text(product.title);

                // Quantity selector
                $('.minus').click(function() {
                    let quantity = parseInt($('#quantity-input').val());
                    if (quantity > 1) {
                        $('#quantity-input').val(quantity - 1);
                    }
                });

                $('.plus').click(function() {
                    let quantity = parseInt($('#quantity-input').val());
                    $('#quantity-input').val(quantity + 1);
                });

                $('#quantity-input').on('input', function() {
                    let value = parseInt($(this).val());
                    if (value < 1 || isNaN(value)) {
                        $(this).val(1);
                    }
                });

                // Add to cart functionality
                $('#btn-add-to-cart').click(function() {
                    const button = $(this);
                    button.addClass('btn-loading');
                    const quantity = parseInt($('#quantity-input').val());

                    // Add to cart in localStorage
                    let cart = JSON.parse(localStorage.getItem('cart')) || [];
                    const existingProduct = cart.find(item => item.title === product.title);

                    if (existingProduct) {
                        existingProduct.quantity = (existingProduct.quantity || 1) + quantity;
                    } else {
                        cart.push({
                            title: product.title,
                            price: product.currentPrice,
                            quantity: quantity,
                            image: product.image
                        });
                    }

                    localStorage.setItem('cart', JSON.stringify(cart));
                    updateCartCount();

                    setTimeout(() => {
                        button.removeClass('btn-loading');
                        showToast(`Đã thêm "${product.title}" vào giỏ hàng!`, 'success');
                    }, 800);
                });

                // Buy now functionality (redirect to cart)
                $('#btn-buy-now').click(function() {
                    $('#btn-add-to-cart').click(); // Add to cart first
                    setTimeout(() => {
                        window.location.href = 'cart.html';
                    }, 1000);
                });
            } else {
                // Product not found
                $('.product-detail-section').html('<p>Sản phẩm không tồn tại.</p>');
            }

            // Animation on scroll
            function animateOnScroll() {
                const elements = document.querySelectorAll('.product-image-container, .product-details');
                
                elements.forEach(element => {
                    const position = element.getBoundingClientRect();
                    if(position.top < window.innerHeight && position.bottom >= 0) {
                        element.style.animation = 'fadeIn 1s forwards';
                        element.style.opacity = '1';
                    }
                });
            }

            setTimeout(animateOnScroll, 100);
            window.addEventListener('scroll', animateOnScroll);
        });
    </script>
</body>
</html>